#!/usr/bin/env node

const { Client } = require("pg");

const client = new Client({database: "expenses", password: "psql"});


async function getData(queryText) {
  return client.query(queryText);
}

(async () => {
  await client.connect();
  const data = await getData('table expenses');
  displayFormattedData(data);
  await client.end();
})();



function displayFormattedData(data) {
  data.rows.forEach(row => {
    let colums = [
      `${row.id}`.padStart(3),
      row.created_on.toDateString().padStart(10),
      Number(row.amount).toFixed(2).padStart(8),
      row.memo
    ];

    console.log(colums.join(` | `));
  })
}
